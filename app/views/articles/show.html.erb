<%= javascript_pack_tag 'article/application' %>

<div class="row">
    <div class="card mb-3 center-block col-md-9 mx-auto col-xs-12">
        <div class="card-body">
            <h6 class="card-subtitle mb-2 text-muted" style="text-align:right;">作成日: <%= @article.created_at.strftime("%Y/%m/%d") %>　最終更新日: <%= @article.updated_at.strftime("%Y/%m/%d") %></h6>
            <h3>
                <%= @article.title %>
            </h3>
            <h4 class="ml-1"><%= @article.sub_title %></h4>
            <div class="row m-1">
                <% @areas.each do |area| %>
                <h4>
                    <%= link_to "/articles/pages/1?area=#{area.id}", { class: "badge badge-info m-1" } do %>
                    <%= area.name %>
                    <% end %>
                </h4>
                <% end %>
                <% @categorys.each do |category| %>
                <h4>
                    <%= link_to "/articles/pages/1?category=#{category.id}", { class: "badge badge-success m-1" } do %>
                    <%= category.name %>
                    <% end %>
                </h4>
                <% end %>
            </div>
            <%= image_tag_with_default @article.title_image, class: "card-img-top mb-3" %>
            <div id="actual_content" class="art-p mt-2 d-flex justify-content-center">
                <div class="dots-loader mt-4">
                </div>
            </div>

            <div id="content_images_area" class="mt-2 d-flex justify-content-center">
                <% if @article.content_images.attached? %>
                <div id="carouselIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <% @article.content_images.each_with_index do |image, i| %>
                        <li data-target="#carouselIndicators" data-slide-to="<%= i %>"></li>
                        <% end %>
                    </ol>
                    <div class="carousel-inner">
                        <% @article.content_images.each_with_index do |image, i| %>
                        <div class="carousel-item <%= "active" if i == 0 %>">
                            <%= image_tag image, { class: "d-block w-100" } %>
                        </div>
                        <% end %>
                    </div>
                    <a class="carousel-control-prev" href="#carouselIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                <% end %>

            </div>
        </div>
    </div>
</div>
<div id="article_content" style="display:none">
    <%= @article.content %>
</div>